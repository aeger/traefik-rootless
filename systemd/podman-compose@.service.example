# Copy to: ~/.config/systemd/user/podman-compose@.service
# Then enable with: systemctl --user enable --now podman-compose@traefik
#
# IMPORTANT:
# - Edit WorkingDirectory to point at where you cloned this repo.
# - This is optional. Manual `podman-compose up -d` is perfectly fine.

[Unit]
Description=podman-compose stack: %i
Wants=network-online.target
After=network-online.target

[Service]
Type=oneshot
RemainAfterExit=yes
WorkingDirectory=%h/traefik-rootless
ExecStart=/usr/bin/podman-compose -f compose.yml up -d
ExecStop=/usr/bin/podman-compose -f compose.yml down
TimeoutStartSec=0

[Install]
WantedBy=default.target
